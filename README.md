# IoT Device Network Connection Malware Detection with Spark Pipeline

## Overview
Cybersecurity threats, particularly malware, have become increasingly challenging to manage due to the evolution of sophisticated attack vectors. This project proposes a big data solution aimed at detecting malware in Internet of Things (IoT) device network connections in real-time. We will train a machine learning model designed to detect malware and deploy this model to provide real-time threat monitoring and alerts. This system is expected to significantly contribute to the security protocols of sensitive sectors, offering a proactive approach to malware defense and helping to capture malware in real-time. This initiative enhances the security of the IoT network and devices, with key goals centered on preserving data privacy, nurturing customer trust, and minimizing costs linked to security vulnerabilities and compliance risks.

## Dataset
This demonstration uses a labeled dataset about network traffic generated by IoT devices. It captures various network connection parameters and labels them as either malicious or benign. (3.4GB)

This dataset was compiled by:
“Stratosphere Laboratory. A labeled dataset with malicious and benign IoT network traffic. January 22th. Agustin Parmisano, Sebastian Garcia, Maria Jose Erquiaga. [Stratosphere Laboratory Datasets](https://www.stratosphereips.org/datasets-iot23)”

Link to the dataset used: [Network Malware Detection Connection Analysis](https://www.kaggle.com/datasets/agungpambudi/network-malware-detection-connection-analysis)

## Technologies and Tools Used
Databricks is a robust platform known for its scalability, efficiency, and flexibility in supporting several languages. Its seamless integration with Apache Spark and collaborative workspaces streamlines complex machine learning and real-time analytics for big data. With this platform, organizations can efficiently tailor workflows to process high volumes of network traffic data and identify malicious activity effectively. This project demonstrates the practical application of big data tools (Spark MLlib, Spark API, Databricks) by employing the XGBoost model through Databricks Community edition to address malware issues.

## How it Works
1. Upload labeled data to Databricks driver.
2. Use Spark MLlib to train an XGBoost model with the uploaded labeled data. Store the trained model for subsequent use.
3. Create a Spark streaming application with Spark API to process IoT network data to Databricks. For this project, we created a simulator that mimics real-time IoT network data streaming.
4. Apply the trained model to the data from the streaming simulator to make predictions of potential malware activities and create a dashboard to present the results for the business team to analyze based on device types and prediction.
5. Periodically perform batch evaluations by comparing predicted results with actual outcomes to assess the model's performance.
6. Provide feedback to the machine learning model trainer based on evaluations. Upgrade the algorithm to improve predictions and adapt to emerging malware attack types.

<img width="657" alt="Screenshot 2023-12-03 at 21 24 32" src="https://github.com/claire6iu/IoT-Device-Malware-Detection/assets/117516873/e5d41b99-40c1-4343-93ea-58b37e5dc5c7">

## Integration Guideline
If this application is to be used with live monitoring:
- Update the streaming source path using actual streaming data.
- Use enterprise Databricks edition.
- Store the ML model and training data in efficient storage systems like Amazon S3.
- Save the prediction data in a relational database.
- Change the logic of actions based on the nature of IoT device networks and firm policy.
- Connect output to proprietary dashboards for visualization.

## Links
- Handout: [Link to Handout]
- Presentation Video: [Link to Presentation Video]
- Presentation Slide: [Link to Presentation Slide]
